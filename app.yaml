service: shadebobs
runtime: python27
api_version: 1
threadsafe: true

instance_class: B1
basic_scaling:
  max_instances: 1
  idle_timeout: 5m

skip_files:
- ^(?!dist)  # Skip any files not in the dist folder

handlers:
- url: /(.*\.(gif|png|jpeg|jpg|css|js|ico))$
  static_files: dist/\1
  upload: dist/(.*)
- url: /(.*)
  static_files: dist/index.html
  upload: dist/index.html

# Any other requests are routed to index.html for angular to handle so we don't need hash URLs
# - url: /.*
#   secure: always
#   redirect_http_response_code: 301
#   static_files: dist/index.html
#   upload: dist/index\.html
#   http_headers:
#     Strict-Transport-Security: max-age=31536000; includeSubDomains
#     X-Frame-Options: DENY